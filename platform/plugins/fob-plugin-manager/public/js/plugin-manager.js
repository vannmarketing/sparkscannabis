(()=>{"use strict";var e={66262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,l]of t)n[e]=l;return n}}},t={};const n=Vue;var l={class:"spinner-border spinner-border-sm me-2",role:"status"};var o=function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,n),a.exports}(66262);const a={},r=(0,o.A)(a,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("span",l)}]]);var c={class:"card mb-3"},s={class:"card-body"},i={class:"mb-3"},u=["disabled"],d={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};const p={__name:"Installer",setup:function(e){var t=(0,n.ref)(null),l=(0,n.ref)(!1),o=function(){l.value=!0,$httpClient.make().post(route("plugin-manager.require-plugin",{name:t.value})).then((function(){return window.location.reload()})).finally((function(){return l.value=!1}))};return function(e,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",c,[a[3]||(a[3]=(0,n.createElementVNode)("div",{class:"card-header"},[(0,n.createElementVNode)("h4",{class:"card-title"},"Install a new plugin")],-1)),(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(o,["prevent"])},[(0,n.createElementVNode)("div",i,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return t.value=e}),class:"form-control",placeholder:"vendor/plugin-name",required:""},null,512),[[n.vModelText,t.value]])]),(0,n.createElementVNode)("button",{type:"submit",class:"btn btn-primary",disabled:l.value},[l.value?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0})):((0,n.openBlock)(),(0,n.createElementBlock)("svg",d,a[1]||(a[1]=[(0,n.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,n.createElementVNode)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},null,-1),(0,n.createElementVNode)("path",{d:"M7 11l5 5l5 -5"},null,-1),(0,n.createElementVNode)("path",{d:"M12 4l0 12"},null,-1)]))),a[2]||(a[2]=(0,n.createTextVNode)(" Install "))],8,u)],32)])])}}};var m={class:"list-group-item"},v={class:"row align-items-center"},h={class:"col"},g={class:"row align-items-center"},k={class:"col"},f={class:"mb-2"},E=["href"],V={class:"d-flex align-items-center gap-1"},N={class:"badge bg-green-lt"},w={class:"col-auto"};const b={__name:"PluginItem",props:{plugin:{type:Object,required:!0}},emits:["updatePlugin"],setup:function(e){var t=function(e){return"v".concat(e.replace(/^v/,""))};return function(l,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("h4",f,[(0,n.createElementVNode)("a",{href:e.plugin.url,target:"_blank"},(0,n.toDisplayString)(e.plugin.name),9,E)]),(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t(e.plugin.version)),1),(0,n.createElementVNode)("span",N,(0,n.toDisplayString)(t(e.plugin.latest)),1)])]),(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-icon",onClick:o[0]||(o[0]=function(t){return l.$emit("updatePlugin",e.plugin)})},o[1]||(o[1]=[(0,n.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-sm" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 5l0 14"></path><path d="M18 11l-6 -6"></path><path d="M6 11l6 -6"></path></svg>',1)]))])])])])])}}};var B={class:"card"},y={class:"card-body"},x={class:"text-muted"},C={class:"btn-list"},M=["disabled"],_={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},S={key:0,class:"list-group list-group-flush mt-3"};const U={__name:"Updater",props:{lastUpdateCheck:String},setup:function(e){var t=e,l=(0,n.ref)(!1),o=(0,n.ref)([]),a=(0,n.ref)(t.lastUpdateCheck),c=function(){l.value=!0,$httpClient.make().post(route("plugin-manager.check-for-updates")).then((function(e){var t=e.data.data,n=t.last_check,l=t.plugins;a.value=n,o.value=[],l.forEach((function(e){["semver-safe-update","update-possible"].includes(e["latest-status"])&&o.value.push(e)})),o.value.length<1&&Botble.showSuccess("Everything is up to date.")})).finally((function(){return l.value=!1}))},s=function(){},i=function(e){$httpClient.make().post(route("plugin-manager.update-plugin",{name:e.name})).then((function(){return window.location.reload()}))};return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",B,[t[5]||(t[5]=(0,n.createElementVNode)("div",{class:"card-header"},[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h3",{class:"card-title"},[(0,n.createTextVNode)(" Updates "),(0,n.createElementVNode)("span",{class:"card-subtitle"}," Run a check for updates to your plugins. ")])])],-1)),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("p",null,[t[0]||(t[0]=(0,n.createElementVNode)("strong",null,"Last update check:",-1)),t[1]||(t[1]=(0,n.createTextVNode)()),(0,n.createElementVNode)("span",x,(0,n.toDisplayString)(a.value),1)]),(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("button",{type:"button",class:"btn",onClick:c,disabled:l.value},[l.value?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0})):((0,n.openBlock)(),(0,n.createElementBlock)("svg",_,t[2]||(t[2]=[(0,n.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,n.createElementVNode)("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},null,-1),(0,n.createElementVNode)("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},null,-1)]))),t[3]||(t[3]=(0,n.createTextVNode)(" Check for updates "))],8,M),(0,n.createElementVNode)("button",{type:"button",class:"btn",onClick:s},t[4]||(t[4]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,n.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,n.createElementVNode)("path",{d:"M7 4v16l13 -8z"})],-1),(0,n.createTextVNode)(" Run global update ")]))]),o.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",S,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.value,(function(e){return(0,n.openBlock)(),(0,n.createBlock)(b,{key:e.name,plugin:e,onUpdatePlugin:i},null,8,["plugin"])})),128))])):(0,n.createCommentVNode)("",!0)])])}}},T={__name:"PluginManager",props:{lastUpdateCheck:String},setup:function(e){return function(t,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(p),(0,n.createVNode)(U,{"last-update-check":e.lastUpdateCheck},null,8,["last-update-check"])])}}};"undefined"!=typeof vueApp&&vueApp.booting((function(e){e.component("v-plugin-manager",T)}))})();